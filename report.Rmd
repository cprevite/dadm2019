---
title: 'Project'
author: "Claudio Previte and Ana -Maria Casian"
date: "automn 2019"
output:
  pdf_document:
    fig_height: 3
    fig_width: 3
    toc: yes
    toc_depth: 2
  documentclass: article
  geometry: margin=0.5in
classoption: a4paper
---

```{r message=FALSE, warning=FALSE}
library(here)
library(Hmisc)
library(dplyr)
library(DataExplorer)
library(ggplot2)
library(lattice)
library(inspectdf)

```

# Loading data

```{r}
bands <- read.csv2(file = here('bands3.csv'), sep = ';',na.strings = "?")
```

# EDA

#Summary bands
```{r}
str(bands)
# summary(bands)
```

#Data Transformation
```{r message=FALSE, warning=FALSE}

cols = c(21:39)  
bands[,cols] = apply(bands[,cols], 2, function(x) as.numeric(as.character(x))) #change class to numeric for num row

#make sure that the variables are well defined
str(bands)


bands <- as.data.frame(lapply(bands,function(x) 
  if(is.factor(x)) factor(toupper(x)) 
  else(x))) # uppercase for all the factor values

#there is a warning message!!!! I took it out for now, but to review it and understand it

```

```{r}
knitr::kable(introduce(bands))
#describe(bands)

```

```{r}
# managing missing values (19 rows with NAs)

na <- inspect_na(bands)
show_plot(na, col_palette=2)
```

```{r}

for (i in 21:39) {
  print(summary(bands[i]))
  print (boxplot(bands[i])$out)
  bands[is.na(bands[,i]), i] <- mean(bands[,i], na.rm = TRUE)    
  
}


```

```{r}
plot_intro(bands)

plot_histogram(bands)

plot_density(bands)

plot_boxplot(bands, by= 'band_type',  ncol = 2, title = "Side-by-side boxplots")

plot_correlation(bands, type= 'c', cor_args = list( 'use' = 'complete.obs'))

#ggpairs(bands[,-40], ggplot2::aes(colour=band_type))

# split data in 2
bands.band <- filter(bands, bands$band_type == 'BAND')

bands.noband <- filter(bands, bands$band_type == 'NOBAND')

# summary(bands.band)
# summary(bands.noband)


```







